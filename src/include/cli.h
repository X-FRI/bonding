/** Copyright (C) 2023 Muqiu Han <muqiu-han@outlook.com> */

#ifndef __BONDING_CLI_H__
#define __BONDING_CLI_H__

#include "error.h"
#include "result.hpp"
#include <structopt/app.hpp>
#include <sys/socket.h>

namespace bonding::cli
{
  struct Command_Line_Args
  {
    std::optional<std::string> create;
    std::optional<bool> init;
    std::optional<bool> run;
  };

  Result<Void, error::Err> function(const Command_Line_Args args) noexcept;
  Result<Void, error::Err> init(const Command_Line_Args args) noexcept;
  Result<Void, error::Err> run(const Command_Line_Args args) noexcept;
};

/** Command line argument parser generated by structopt */
STRUCTOPT(bonding::cli::Command_Line_Args, init, run);

#endif /* __BONDING_CLI_H__ */
